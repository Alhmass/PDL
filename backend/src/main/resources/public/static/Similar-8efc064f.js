import{d as f,r as d,c as i,a as n,w as v,v as b,F as m,b as k,e as y,o as a,g as w,f as S}from"./index-f4b47b3d.js";import{a as u}from"./http-api-b3a6cdba.js";import{_ as B}from"./Image.vue_vue_type_script_setup_true_lang-ac84fe7a.js";const C=["id"],D=n("hr",null,null,-1),I=n("h3",null,"Show similar images",-1),E=n("option",{disabled:"",value:""},"Selectionner un descripteur",-1),A=n("option",{value:{name:"histogram2D"}},"Histogramme 2D Teinte/Saturation",-1),L=n("option",{value:{name:"histogram3D"}},"Histogramme 3D RGB",-1),F=[E,A,L],N=n("input",{type:"number",id:"nbImages",placeholder:"Nombre d'images Ã  afficher",min:"1"},null,-1),R={key:1,disabled:""},V=n("hr",null,null,-1),$={key:2,class:"image_container"},G=f({__name:"Similar",props:{id:{}},setup(g){const r=g,c=d([]),s=d({name:""}),_=d({nb:-1});function h(){u.getImageListSimilar(r.id,s.value.name,_.value.nb).then(e=>{c.value=e}).catch(e=>{console.log(e.message)})}u.getImage(r.id).then(e=>{const t=new window.FileReader;t.readAsDataURL(e),t.onload=()=>{const o=document.getElementById("gallery-"+r.id);if(o!==null){const l=document.createElement("img");o.appendChild(l),l!==null&&t.result&&l.setAttribute("src",t.result)}}}).catch(e=>{console.log(e.message)});function p(e){S.push({name:"image",params:{id:e}})}return(e,t)=>(a(),i(m,null,[n("figure",{id:"gallery-"+e.id},null,8,C),D,I,v(n("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.value=o)},F,512),[[b,s.value]]),N,s.value?(a(),i("button",{key:0,onClick:t[1]||(t[1]=o=>h())},"Afficher")):(a(),i("button",R,"Afficher")),V,s.value?(a(),i("div",$,[(a(!0),i(m,null,k(c.value,o=>(a(),w(B,{id:o.id,class:"vignette",onClick:l=>p(o.id)},null,8,["id","onClick"]))),256))])):y("",!0)],64))}});export{G as default};
