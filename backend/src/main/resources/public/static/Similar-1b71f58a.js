import{d as h,r as m,c as i,a as n,w as f,v,F as c,b,e as y,o as a,g as k,f as I}from"./index-d6fb33f8.js";import{a as u}from"./http-api-685e64b7.js";import{_ as S}from"./Image.vue_vue_type_script_setup_true_lang-3c706ea6.js";const w=["id"],B=n("hr",null,null,-1),C=n("h3",null,"Show similar images",-1),D=n("option",{disabled:"",value:""},"Selectionner un descripteur",-1),E=n("option",{value:{name:"histogram2D"}},"Histogramme 2D Teinte/Saturation",-1),A=n("option",{value:{name:"histogram3D"}},"Histogramme 3D RGB",-1),L=[D,E,A],F=n("input",{type:"number",id:"nbImages",placeholder:"Nombre d'images Ã  afficher",min:"1"},null,-1),N={key:1,disabled:""},R=n("hr",null,null,-1),V={key:2,class:"image_container"},U=h({__name:"Similar",props:{id:{}},setup(_){const r=_,d=m([]),s=m({name:""});function g(){let t=parseInt(document.getElementById("nbImages").value);u.getImageListSimilar(r.id,s.value.name,t).then(e=>{d.value=e}).catch(e=>{console.log(e.message)})}u.getImage(r.id).then(t=>{const e=new window.FileReader;e.readAsDataURL(t),e.onload=()=>{const o=document.getElementById("gallery-"+r.id);if(o!==null){const l=document.createElement("img");o.appendChild(l),l!==null&&e.result&&l.setAttribute("src",e.result)}}}).catch(t=>{console.log(t.message)});function p(t){I.push({name:"image",params:{id:t}})}return(t,e)=>(a(),i(c,null,[n("figure",{id:"gallery-"+t.id},null,8,w),B,C,f(n("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.value=o)},L,512),[[v,s.value]]),F,s.value?(a(),i("button",{key:0,onClick:e[1]||(e[1]=o=>g())},"Afficher")):(a(),i("button",N,"Afficher")),R,s.value?(a(),i("div",V,[(a(!0),i(c,null,b(d.value,o=>(a(),k(S,{id:o.id,class:"vignette",onClick:l=>p(o.id)},null,8,["id","onClick"]))),256))])):y("",!0)],64))}});export{U as default};
