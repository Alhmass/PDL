import{d as h,r as d,c as i,a as n,w as f,v,F as c,b,e as y,o as s,g as I,f as k}from"./index-14efada6.js";import{a as u}from"./http-api-b3a6cdba.js";import{_ as S}from"./Image.vue_vue_type_script_setup_true_lang-392d60f2.js";const w=["id"],B=n("hr",null,null,-1),C=n("h3",null,"Show similar images",-1),D=n("option",{disabled:"",value:""},"Selectionner un descripteur",-1),E=n("option",{value:{name:"histogram2D"}},"Histogramme 2D Teinte/Saturation",-1),A=n("option",{value:{name:"histogram3D"}},"Histogramme 3D RGB",-1),L=[D,E,A],F=n("input",{type:"number",id:"nbImages",placeholder:"Nombre d'images Ã  afficher",min:"1"},null,-1),N={key:1,disabled:""},R=n("hr",null,null,-1),V={key:2,class:"image_container"},U=h({__name:"Similar",props:{id:{}},setup(g){const r=g,m=d([]),a=d({name:""});function _(){let t=parseInt(document.getElementById("nbImages").value);console.log("nbImages = "+t),u.getImageListSimilar(r.id,a.value.name,t).then(e=>{m.value=e}).catch(e=>{console.log(e.message)})}u.getImage(r.id).then(t=>{const e=new window.FileReader;e.readAsDataURL(t),e.onload=()=>{const o=document.getElementById("gallery-"+r.id);if(o!==null){const l=document.createElement("img");o.appendChild(l),l!==null&&e.result&&l.setAttribute("src",e.result)}}}).catch(t=>{console.log(t.message)});function p(t){k.push({name:"image",params:{id:t}})}return(t,e)=>(s(),i(c,null,[n("figure",{id:"gallery-"+t.id},null,8,w),B,C,f(n("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o)},L,512),[[v,a.value]]),F,a.value?(s(),i("button",{key:0,onClick:e[1]||(e[1]=o=>_())},"Afficher")):(s(),i("button",N,"Afficher")),R,a.value?(s(),i("div",V,[(s(!0),i(c,null,b(m.value,o=>(s(),I(S,{id:o.id,class:"vignette",onClick:l=>p(o.id)},null,8,["id","onClick"]))),256))])):y("",!0)],64))}});export{U as default};
