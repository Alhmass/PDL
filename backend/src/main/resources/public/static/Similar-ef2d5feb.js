import{d as v,r as c,c as i,a as n,w as f,v as b,F as u,b as y,e as k,o as a,g as S,f as w}from"./index-2d0ff40e.js";import{a as _}from"./http-api-b3a6cdba.js";import{_ as B}from"./Image.vue_vue_type_script_setup_true_lang-78ebb843.js";const C=["id"],D=n("hr",null,null,-1),I=n("h3",null,"Show similar images",-1),E=n("option",{disabled:"",value:""},"Selectionner un descripteur",-1),A=n("option",{value:{name:"histogram2D"}},"Histogramme 2D Teinte/Saturation",-1),L=n("option",{value:{name:"histogram3D"}},"Histogramme 3D RGB",-1),F=[E,A,L],N=n("input",{type:"number",id:"nbImages",placeholder:"Nombre d'images Ã  afficher",min:"1"},null,-1),R={key:1,disabled:""},V=n("hr",null,null,-1),$={key:2,class:"image_container"},G=v({__name:"Similar",props:{id:{}},setup(g){const r=g,d=c([]),s=c({name:""}),m=c({nb:-1});function h(){console.log(m.value.nb),_.getImageListSimilar(r.id,s.value.name,m.value.nb).then(e=>{d.value=e}).catch(e=>{console.log(e.message)})}_.getImage(r.id).then(e=>{const t=new window.FileReader;t.readAsDataURL(e),t.onload=()=>{const o=document.getElementById("gallery-"+r.id);if(o!==null){const l=document.createElement("img");o.appendChild(l),l!==null&&t.result&&l.setAttribute("src",t.result)}}}).catch(e=>{console.log(e.message)});function p(e){w.push({name:"image",params:{id:e}})}return(e,t)=>(a(),i(u,null,[n("figure",{id:"gallery-"+e.id},null,8,C),D,I,f(n("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.value=o)},F,512),[[b,s.value]]),N,s.value?(a(),i("button",{key:0,onClick:t[1]||(t[1]=o=>h())},"Afficher")):(a(),i("button",R,"Afficher")),V,s.value?(a(),i("div",$,[(a(!0),i(u,null,y(d.value,o=>(a(),S(B,{id:o.id,class:"vignette",onClick:l=>p(o.id)},null,8,["id","onClick"]))),256))])):k("",!0)],64))}});export{G as default};
